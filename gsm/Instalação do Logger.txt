https://docs.blockbit.com/pages/viewpage.action?pageId=26819561
1361
['', 'Instalação do Logger', '']
['', 'Esta seção irá apresentar o passo a passo para instalação de um logger no\xa0Blockbit\xa0 GSM.Instalação da Máquina Virtual;Instalação do Logger Integrated;Instalação do Logger Standalone;Configuração da Logger na interface administrativa/manager do GSM.Iremos demonstrar a instalação utilizando o software VMware vSphere Client como exemplo, procedimentos já executados no passo a passo citado no capítulo a respeito da\xa0Instalação do GSM\xa0não serão refeitos, caso haja alguma dúvida verifique a sessão adequada.Para realizar a instalação do logger no\xa0Blockbit\xa0 GSM siga as orientações a seguir.Instalação da Máquina Virtual Primeiramente, inicie o VMware e navegue na sua estrutura de diretórios até a máquina virtual desejada, conforme exemplificado a seguir:Instalação do Logger – Máquina VirtualDe forma a ter espaço de armazenamento em disco para a instalação do Logger, faremos a inserção de um HD na interface virtual. Clique com botão direito na máquina desejada e selecione a opção “Edit Settings...” conforme ilustrado pela imagem abaixo:Máquina Virtual – Edit SettingsUma tela exibindo as configurações de hardware da sua máquina virtual será exibida, conforme demonstrado pela imagem abaixo:Máquina Virtual – Add.Clique no botão “Add...” localizado na parte superior da tela, do lado direito da caixa de checagem “Show All Devices”.Uma tela requisitando o tipo de device desejado aparecerá:Máquina Virtual – Device Type.Selecione a opção “Hard Disk” clicando sobre o ícone na listagem no meio ad tela, feito isso, clique no botão “Next” para prosseguir para a próxima etapa. Conforme demonstrado pela imagem abaixo, na próxima janela será requisitado que tipo de disco se pretende criar:Máquina Virtual – Select Disk.Selecione “Create a new virtual disk” caso esta opção não esteja previamente selecionada. Clique no botão “Next”.Máquina Virtual – Create a Disk.Nesta nova janela, determine o tamanho do disco desejado em “Disk Size” e selecione a opção “Thin Provision” em “Disk Provision”. Feito isso, clique em “Next”, ignore as opções que surgirão na próxima janela (“Advanced Options”) e clique em “Next”.Máquina Virtual – Advanced Options.Por fim a tela de finalização surgirá:Máquina Virtual – Ready to Complete.Caso todas as configurações estejam de acordo com o pretendido, clique em “Finish”, caso contrário clique em “Cancel” para cancelar o processo.Máquina Virtual – Adding virtual Disk.A máquina começará o processo de adicionar o disco, clique em “OK” para sair dessa tela.Caso a máquina virtual não esteja ligada, clique com o botão direito sobre ela e selecione a opção “Power” e “Power On”, a seleção desta mesma pode ser visualizada na imagem abaixo:Máquina Virtual – Power On.Após este passo, quando a máquina terminar de ser ligada clique na aba “Console” (que pode ser visualizada na imagem abaixo) ou acesse o IP da máquina através de SSH.Máquina Virtual – Aba console.Após efetuado o login, digite o comando CLI “logger-config” para iniciar o wizard de instalação do logger. Há dois modos de operação para o logger, Standalone e Integrado.', 'Atente que caso o usuário opte que uma chave não seja gerada quando o prompt exibir "Generate Key?", ele poderá usar o comando "logger-key -c" ou efetuar o "logger-config" mais uma vez.', 'O exemplo de instalação de loggers será focado no\xa0logger integrado e não no standalone, porém abaixo detalharemos rapidamente a instalação neste modo de operação:Standalone Neste modo de operação, o servidor é exclusivo para logger remoto, sua utilização para qualquer outra função não é possível, desta forma se fazendo necessário o uso do firmware da Blockbit.', 'É recomendável executar esse comando diretamente no console da máquina, pois durante a sua configuração a conexão SSH poderá ser perdida.', '', 'Atente que o processo de upgrade interfere com as interfaces configuradas em loggers do tipo standalone. Para mais informações sobre o comando upgrade-blockbit, consulte esta página.', 'Segue um exemplo rápido de sua instalação:Logger – logger-config - Standalone', 'Para mais informações a respeito de como configurar um Logger standalone, consulte esta página.', 'Após esta etapa, basta efetuar os mesmos procedimentos na instalação do GSM.Integrated Neste modo de operação é possível utilizar o próprio GSM local onde o manager estiver instalado como servidor de logger. Porém, é necessário dedicar um disco inteiro apenas para esta função, sendo indiferente se este mesmo será virtual ou físico.Como exemplo, este guia executará a instalação de um logger integrado, como pode ser observado na imagem abaixo:Logger – logger-config.Após selecionar a opção “integrated”, o sistema reconhecerá todos os discos instalados na máquina (física ou virtual) e requisitará que um deles seja selecionado para a instalação do logger, porém, é importante ressaltar que o disco inteiro será utilizado para tanto, assim sendo, qualquer dado que esteja armazenado nele será removido durante a instalação. Tal fato pode ser constatado pela imagem abaixo:Logger – Entire device, not just one partition.Para dar continuidade é necessário confirmar digitando “y” e dando “enter”. Feito este procedimento, o wizard começará a criar o logger, conforme demonstrado pela imagem abaixo:Logger – Criando Logger.Após estes passos, o sistema questionará se deseja que a chave secreta seja gerada, é recomendável confirmar com “y”, copiar essa informação e guardá-la em um local seguro. A única forma de reaver esta chave é utilizando o comando “logger-key” na CLI (para mais informações acesse este link), a imagem abaixo demonstra o processo de criação de uma chave secreta:Logger – Secret Key.Após este passo, conforme pode ser observado graças a mensagem do próprio wizard o Logger já está instalado no GSM.Logger – CompletedA etapa utilizando a CLI foi completada com sucesso. O próximo passo será na interface administrativa do GSM:Configuração da Logger na interface administrativa/manager do GSM\xa0 Efetue o login através do navegador.\xa0GSM – Login.Clique no botão “Loggers” no menu vertical a esquerda.LoggersA seguinte tela será exibida:Loggers –\xa0LoggersAdicione um logger selecionando o menu de ações\xa0[] e clicando na opção "Create Logger":Loggers - Actions Menu - Create LoggerO seguinte formulário será exibido:Loggers – Create Logger DeviceComplete os campos conforme o padrão (para mais informações acesse este link):Loggers – Create Logger Device – Campos preenchidosEm “Devices & Devices Group“ é importante selecionar em quais dispositivos o logger irá gerar relatórios (No nosso exemplo, escolhemos o grupo “Stores”).Após esta etapa, clique no botão save[].Loggers – Create Logger Device – Logger criado com sucessoO Logger foi instalado com sucesso.', '\xa0Esta tela levará em torno de 40 segundos para exibir os status das loggers.Durante este intervalo de tempo são criadas as configurações essenciais do logger.', 'O próximo passo é conectar o Logger aos dispositivos. Para tanto, acesse a opção Devices\xa0localizada no menu lateral à esquerda.GSM – DevicesNeste exemplo, o Logger será aplicado aos UTMs das Store 1, 2 e 3. Clique ou busca o nome do grupo, neste caso "Stores"GSM – StoresNo menu actions [], selecione a opção "Manage Groups".Menu Actions - Manage GroupsA seguinte tela será exibida:Manage groupsSelecione o grupo desejado e clique no botão edit\xa0[]\xa0a seguinte janela aparecerá:Manage Groups – Edit GroupSelecione o logger adequado, conforme exemplificado abaixo:Manage Groups – Edit Group - Logger selecionado.Clique no botão save[] para finalizar a edição.Group updated with successCom isso, todos os dispositivos do grupo se utilizarão do\xa0logger selecionado.Após efetuar este processo, clique no ícone Access Interface Web [] para acessar o UTM desejado.Caso seja necessário, efetue o login.Vá em “System” e clique na opção “Administration” conforme exemplificado pela imagem abaixo:UTM – System - AdministrationAcesse a aba “Central Management“:UTM – Central ManagementMarque a caixa de checagem “Enable Analyzer”, em “Analyzer Address” digite o IP do GSM (ou o IP do Analyzer caso este seja Standalone), em “Logger Service”, digite o serviço do logger. Feito isso, clique no ícone save[] e acesse a fila de tasks clicando no ícone de Fila de configurações salvas [] e dê o apply das configurações. Caso tudo ocorra corretamente, o “Status” (do lado direito de “Analyzer Address”) será alterado para “Online”.Retornando ao GSM, novamente volte a acessar os\xa0“Loggers”. Agora é possível observá-los atuando normalmente, conforme demonstrado abaixo.Logger DevicesO Logger foi conectado aos dispositivos com sucesso.Par mais informações a respeito das colunas deste painel, consulte esta página.À seguir vamos analisar os componentes do Menu de Ações, para demonstrar como\xa0criar\xa0e\xa0remover\xa0um\xa0Logger;', '']
