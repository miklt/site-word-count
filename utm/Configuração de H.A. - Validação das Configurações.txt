https://docs.blockbit.com/pages/viewpage.action?pageId=26820599
383
['', 'Configuração de H.A. - Validação das Configurações', '']
['', 'Para efetuar a validação, iremos acessar a CLI do Cluster Primário e rodar alguns comandos, caso necessite de mais informações a respeito, consulte esta página.Um dos testes mais simples para validar a comunicação entre os clusters de H.A. é efetuar um ping do Cluster Primário (172.31.170.20) para o Secundário (172.31.170.21) e verificar se há resposta, conforme demonstrado pela imagem a seguir:CLI - Validação da comunicação do Cluster Primário para o SecundárioTambém é possível efetuarmos estes mesmos passos na outra ponta, segue uma demonstração usando o comando ping para verificar a comunicação do Cluster Secundário (172.31.170.21) para o Primário (172.31.170.20):CLI - Validação da comunicação do\xa0Cluster Secundário para\xa0Primário através do comando\xa0PingAinda na CLI é possível debugar o status da H.A. usando o comando\xa0[debug-ha], segue um exemplo das informações exibidas no Cluster Primário:CLI - debug da H.A. no Cluster PrimárioA seguir um exemplo das informações que são exibidas ao aplicar o comando\xa0[debug-ha]\xa0no Cluster Secundário:CLI - debug da H.A.\xa0no Cluster SecundárioAlém disso, após efetuar a configuração a própria interface exibe o estado atual de ambos os Clusters, no Primário em Information é exibido o estado atual da máquina e detalhes do processo de sincronismo:Cluster Primário - InformationsAo clicar no ícone [] é possível não só reconfigurar o Cluster secundário, como também, acessar um painel muito semelhante no rodapé da página, segue um exemplo:Cluster Secundário - InformationsPor fim, para garantir que o H.A. está funcionando corretamente, podemos desligar o Cluster Primário, para isso iremos dar o comando [shutdown] na sua\xa0CLI. Graças a ele não estar mais disponível, o secundário assumirá a prioridade e subirá no IP\xa0172.31.170.20 conforme configuramos anteriormente no seu wizard. O painel de login exibirá uma notificação no canto direito da tela, como mostra o screenshot abaixo:Login - Secondary device activeAlém disso, na aba\xa0High Availability em System\xa0será exibida essa mensagem:High Availability - Secondary device activeE o painel Information, refletirá essas mudanças exibindo que o Cluster Primário foi desativado, conforme demonstrado abaixo:Cluster Status do Cluster Secundário após o Primário ter sido desligadoIsso conclui a demonstração, para mais informações a respeito de High Availability, consulte esta página.', '']
