https://docs.blockbit.com/display/RC/System+-+Aba+High+Availability
810
['', 'System - Aba High Availability', '']
['', 'O Blockbit UTM suporta nativamente o recurso de alta disponibilidade (High Availability) mantendo um “Appliance” em modo “backup” que entra em operação rapidamente no caso de falha com o “DISPOSITIVO PRIMÁRIO”, o que minimiza o tempo de indisponibilidade.Esse recurso visa atender a condição de um sistema de "Tolerância a falhas" e "disponibilidade" que se refere à capacidade em um ambiente de rede do sistema em modo H.A, de modo a aceitar conexões e funcionar normalmente de modo transparente ao usuário final, mesmo quando um ou mais dos componentes do dispositivo “PRIMÁRIO” não estão operacionais.O recurso de Alta disponibilidade do Blockbit UTM requer dois (2) dispositivos idênticos, configurados para fornecer uma conexão confiável e contínua entre as redes. O sistema de H.A implica em redundância, sincronismo e inclui um mecanismo de Failover, entre outras características.TypeH.A Active/PassiveAtivo-passivo, não sincroniza sessões de autenticação e controles das conexões.H.A. Active/ActiveComo todo o tráfego da rede deve passar pelo firewall, é extremamente necessário que o fluxo de tráfego permaneça ininterrupto.Mesmo no caso de uma interrupção do dispositivo primário, seja em decorrência de alguma falha de hardware, software, ou de rede, o dispositivo ativo secundário torna-se o dispositivo principal automaticamente prevenindo a perda de conexão dos serviços diretamente conectados.Em um sistema Ativo/Ativo o tratamento do tráfego do fluxo de pacotes é considerado indispensável, de forma a garantir a persistência da sessão de autenticação dos usuários e o controle das sessões dos estados das conexões TCP e UDP.O processo de sincronismo do H.A Ativo/Ativo é responsável por sincronizar as configurações do sistema, as sessões de autenticação e os estados de conexões do dispositivo, o que garante uma conexão confiável e contínua entre as redes.Nos casos de indisponibilidade do dispositivo “H.A Ativo Primário” o “H.A Ativo Secundário” assume a propriedade das sessões e das requisições da rede de forma transparente sem ônus ou perda de serviços.No processo de restabelecimento do H.A Primário o dispositivo interage através das interfaces Heartbeat com o dispositivo H.A Secundário, aplica um sincronismo reverso das configurações do sistema, atualiza as tabelas das sessões de autenticação e controles das conexões e reassume a propriedade das sessões, fornecendo assim uma solução resiliente, escalável e fácil de gerenciar.Redundância de hardware (Failover)Quando um recurso do dispositivo primário falhar, o secundário deve assumir as funções operacionais, de forma transparente para os usuários.Interface HeartbeatOs processos de monitoramento e sincronismo dos dados do sistema são aplicados através de uma interface de rede dedicada intitulada “heartbeat”.Em virtude dos processos de monitoramento e sincronismo serem aplicados através de uma “interface heartbeat” (dedicada), é importante considerar a possibilidade de falhas na rede de comunicação e não no dispositivo, portanto, o sistema permite configurar uma interface “heartbeat redundante”, ou seja, caso ocorram problemas de comunicação na interface primária, o sistema realiza os testes e sincronismo pela interface heartbeat secundária.Detecção de falhasResponsável em monitorar os dispositivos, garantir a disponibilidade entre os dois dispositivos (gateways), e detectar as possíveis falhas, sejam por danos no equipamento ou imperfeições na comunicação através das interfaces de monitoramento “heartbeat”.Servidor em esperaDispositivo secundário que opera em modo “stand-by” aguardando sinalização (“status”) de inoperabilidade do dispositivo primário.Sincronismo de configuraçõesProcesso de sincronismo dos arquivos de configuração, tem como função garantir que o dispositivo secundário esteja configurado e atualizado no momento de falha do dispositivo primário.Persistência de sessão dos usuáriosProcesso de sincronismo das sessões de autenticação dos usuários. Garante a continuidade das conexões no processo de “failover” entre os dispositivos H.A.Persistência de sessão das conexõesProcesso de sincronismo das sessões dos estados de conexões do tráfego de rede. Responsável por garantir a continuidade das conexões no processo de “failover” entre os dispositivos H.A.Envio de log e notificaçõesServiço de notificações e alertas das ocorrências do serviço de H.A.Service Level AgreementO SLA de disponibilidade do cluster é de 99,98%.Reintegração do servidor principal (Failback)A reintegração do dispositivo primário é simples e automática.Ao reiniciar o dispositivo primário (inativo) conectado à rede através do switch, o serviço de monitoramento tem como dever verificar a existência de alguma configuração a ser sincronizada com o dispositivo secundário (ativo). Após o sincronismo, executa-se o mesmo processo de failover, onde deve-se desabilitar as interfaces do dispositivo secundário, ou seja, altera seu estado novamente para “stand-by” e reabilita as interfaces de rede no dispositivo primário, tornando-o novamente “Ativo”. Suporta o protocolo VRRP (Virtual Router Redundancy Protocol) *RFC 3768, RFC 2787 e RFC 5798 em todos os modelos Blockbit.Para mais informações a respeito da configuração de H.A., cheque a página\xa0Configuração do modo H.A. no dispositivo principal.Para mais informações sobre o wizard cheque a página\xa0Wizard de configuração do dispositivo H.A. secundário.', '']
